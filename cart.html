<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JoliThrifts - Cart</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * {margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;}
    body {background:#f8f9fa; color:#333; line-height:1.6; overflow-x:hidden;}
    .container {max-width:1200px; margin:0 auto; padding:0 15px;}
    header {
      background: linear-gradient(135deg,#7B4DFF 0%, #8B5CF6 100%);
      color:white;
      padding:15px 20px;
      box-shadow:0 4px 20px rgba(0,0,0,0.15);
      border-radius:20px;
      margin:15px;
      position:sticky;
      top:15px;
      z-index:1000;
      transition:transform 0.3s ease, background 0.3s ease;
    }
    header.scrolled {transform:scale(0.98); background:linear-gradient(135deg,#6A41E0 0%, #7A4FF0 100%);}
    .header-content {display:flex; justify-content:space-between; align-items:center; position:relative;}
    .logo {font-size:26px; font-weight:bold; color:#FFA500; transition:transform 0.3s ease;}
    .logo:hover {transform:scale(1.1);}
    nav ul {display:flex; list-style:none;}
    nav ul li {margin-left:25px; position:relative;}
    nav ul li a {color:white; text-decoration:none; font-weight:500; padding:6px 0; transition:all .3s ease;}
    nav ul li a:hover {color:#FFA500; transform:translateY(-2px);}
    nav ul li a::before, nav ul li a::after {
      content:""; position:absolute; left:0; right:0; height:2px; background:#FFA500; transform:scaleX(0); transition:transform .3s ease;
    }
    nav ul li a::before {top:0;} nav ul li a::after {bottom:0;}
    nav ul li a:hover::before, nav ul li a:hover::after {transform:scaleX(1);}
    .cart-icon {position:relative; cursor:pointer;}
    .cart-count {
      position:absolute; top:-8px; right:-10px;
      background:#ff4757; color:white; font-size:12px;
      border-radius:50%; width:18px; height:18px;
      display:flex; align-items:center; justify-content:center;
    }
    .hamburger {display:none; font-size:24px; color:white; cursor:pointer; transition:transform 0.3s ease;}
    .hamburger:hover {transform:rotate(90deg);}
    @media(max-width:768px){
      header {margin:10px;}
      .header-content {flex-direction:row;}
      .hamburger {display:block;}
      nav {display:none;}
      nav ul {flex-direction:column; background:linear-gradient(135deg,#7B4DFF 0%, #8B5CF6 100%); border-radius:0 0 15px 15px; padding:15px;}
      nav.active {display:block; position:absolute; top:100%; left:0; right:0; box-shadow:0 4px 10px rgba(0,0,0,0.15);}
      nav ul li {margin:10px 0; text-align:center;}
    }
    .cart-section {padding:60px 0; text-align:center;}
    .cart-section h1 {font-size:2.2rem; margin-bottom:15px; color:#7B4DFF; animation:fadeInUp 1s ease;}
    .cart-section p {color:#555; margin-bottom:30px; animation:fadeInUp 1s ease .2s;}
    .cart-items {
      background:#fff; border-radius:15px; padding:20px;
      box-shadow:0 5px 15px rgba(0,0,0,0.08); max-width:800px; margin:0 auto 30px;
      animation:fadeIn 1s ease;
    }
    .cart-item {
      display:flex; justify-content:space-between; align-items:center;
      padding:15px 0; border-bottom:1px solid #eee;
    }
    .cart-item img {width:70px; height:70px; object-fit:cover; border-radius:8px;}
    .item-details {flex-grow:1; margin-left:15px; text-align:left;}
    .item-details h4 {font-size:1.1rem; margin-bottom:5px;}
    .item-details .item-description {
      font-size: 0.85rem;
      color: #777;
      margin-bottom: 5px;
      font-style: italic;
    }
    .item-details p {color:#7B4DFF; font-weight:bold;}
    .item-details .secondary-price {font-size: 0.9rem; color: #666;}
    .configuration-options {
      margin: 10px 0;
    }
    .config-select {
      padding: 8px;
      border: 1px solid #ddd;
      border-radius: 5px;
      margin-right: 10px;
      margin-bottom: 8px;
      width: 150px;
    }
    .quantity-controls {
      display: flex;
      align-items: center;
      margin: 10px 0;
    }
    .quantity-btn {
      background: #7B4DFF;
      color: white;
      border: none;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .quantity-btn:hover {
      background: #FFA500;
      transform: scale(1.1);
    }
    .quantity-input {
      width: 40px;
      text-align: center;
      margin: 0 8px;
      padding: 5px;
      border: 1px solid #ddd;
      border-radius: 5px;
    }
    .remove-button {
      background:#ff4757; color:white; border:none; border-radius:5px;
      padding:8px 12px; cursor:pointer; transition:.3s ease;
    }
    .remove-button:hover {background:#e63946; transform:scale(1.05);}
    .cart-total {font-size:1.3rem; font-weight:bold; text-align:right; margin:20px 0;}
    .cart-total .secondary-price {font-size: 1rem; color: #666; margin-top: 5px;}
    .checkout-options {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 15px;
      margin-top: 20px;
    }
    .checkout-button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 12px 25px;
      border: none;
      border-radius: 30px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      min-width: 180px;
    }
    .checkout-button i {
      margin-right: 10px;
      font-size: 1.2rem;
    }
    .whatsapp-btn {
      background: #25D366;
      color: white;
    }
    .whatsapp-btn:hover {
      background: #128C7E;
      transform: translateY(-2px) scale(1.05);
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }
    .social-cta {
      background:linear-gradient(135deg,#7B4DFF 0%,#8B5CF6 100%);
      color:white; text-align:center; padding:60px 0;
      margin:40px 15px; border-radius:20px;
    }
    .social-cta h2 {font-size:2rem; margin-bottom:15px;}
    .social-cta p {margin-bottom:25px;}
    .social-buttons {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 15px;
    }
    .social-button {
      background:white;
      color:#7B4DFF;
      padding:15px 25px;
      border-radius:30px;
      font-weight:bold;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      transition:.3s ease;
      min-width: 160px;
    }
    .social-button i {
      margin-right:10px;
      font-size:1.4rem;
    }
    .social-button:hover {
      transform:scale(1.05);
      background:#FFA500;
      color:white;
      box-shadow:0 5px 15px rgba(0,0,0,0.2);
    }
    footer {background:#333; color:white; padding:40px 0 20px;}
    .footer-content {display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:30px; margin-bottom:30px;}
    .footer-section h3 {margin-bottom:15px; color:#FFA500;}
    .footer-section a,.footer-section p {color:#ddd; text-decoration:none; margin-bottom:10px; display:block; transition:color 0.3s;}
    .footer-section a:hover {color:#7B4DFF;}
    .social-icons a {margin-right:15px; font-size:1.5rem; color:#ddd; transition:transform .3s, color .3s;}
    .social-icons a:hover {color:#7B4DFF; transform:scale(1.2);}
    .footer-bottom {text-align:center; padding-top:20px; border-top:1px solid #444;}
    @keyframes fadeIn {from{opacity:0;} to{opacity:1;}}
    @keyframes fadeInUp {from{opacity:0; transform:translateY(20px);} to{opacity:1; transform:translateY(0);}}
  </style>
</head>
<body>

<header>
  <div class="container">
    <div class="header-content">
      <div class="logo">JoliThrifts</div>
      <nav id="nav-menu">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="products.html">Products</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="contact.html">Contact</a></li>
          <li><a href="cart.html" class="cart-icon"><i class="fas fa-shopping-cart"></i><span class="cart-count">0</span></a></li>
        </ul>
      </nav>
      <div class="hamburger" id="hamburger"><i class="fas fa-bars"></i></div>
    </div>
  </div>
</header>

<section class="cart-section container">
  <h1>Your Cart</h1>
  <p>Review your selected items and proceed to checkout via WhatsApp.</p>
  <div class="cart-items" id="cartItems"></div>
  <div class="cart-total" id="cartTotal">
    <div class="primary-total">Total: $0.00</div>
    <div class="secondary-total"></div>
  </div>
  
  <div class="checkout-options">
    <button class="checkout-button whatsapp-btn" onclick="checkout('whatsapp')">
      <i class="fab fa-whatsapp"></i> WhatsApp Checkout
    </button>
  </div>
</section>

<section class="social-cta">
  <div class="container">
    <h2>Need Help with Your Order?</h2>
    <p>Contact us on WhatsApp for assistance with your cart or any other inquiries.</p>
    <div class="social-buttons">
      <a href="https://wa.me/+8616671705298?text=Hi%20I'm%20contacting%20you%20from%20JoliThrifts%20about%20my%20cart" target="_blank" class="social-button">
        <i class="fab fa-whatsapp"></i> WhatsApp
      </a>
    </div>
  </div>
</section>

<footer>
  <div class="container">
    <div class="footer-content">
      <div class="footer-section"><h3>About Us</h3><p>We offer quality products with direct WhatsApp ordering for a seamless shopping experience.</p></div>
      <div class="footer-section"><h3>Quick Links</h3><a href="index.html">Home</a><a href="products.html">Products</a><a href="about.html">About</a><a href="contact.html">Contact</a></div>
      <div class="footer-section"><h3>Contact Us</h3><p>Email: jolithrifts876@gmail.com</p><p>Phone: +8616671705298</p><div class="social-icons"><a href="#"><i class="fab fa-facebook"></i></a><a href="#"><i class="fab fa-instagram"></i></a><a href="#"><i class="fab fa-twitter"></i></a><a href="#"><i class="fab fa-whatsapp"></i></a></div></div>
    </div>
    <div class="footer-bottom"><p>&copy; 2025 JoliThrifts. All rights reserved.</p></div>
  </div>
</footer>

<script>
  const productDescriptions = {
    "Wireless Earbuds": "High-quality wireless earbuds with noise cancellation and 24-hour battery life.",
    "Bluetooth Speaker": "Portable Bluetooth speaker with 360° sound and waterproof design.",
    "Smartphone": "Premium smartphone with advanced features and excellent performance.",
    "Laptop": "Thin and lightweight laptop with long battery life and powerful performance.",
    "Headphones": "Comfortable over-ear headphones with crystal clear audio quality.",
    "Smartwatch": "Feature-rich smartwatch with health monitoring and notification support.",
    "DSLR Camera": "Professional DSLR camera with multiple lenses and 4K video capability.",
    "Drone": "4K camera drone with GPS positioning and obstacle avoidance technology.",
    "Aurelia's Black Push-Up Bra": "✨AURELIA✨ Black Push Up Bra\nLift, shape, and comfort in one.\nNo sense of restraint, light air, gather supporting breast. With adjustable multi-way straps, a sleek backless option, and a natural rounded lift, it's perfect. This bra is designed to give you that flawless push-up effect without compromising on comfort.",
    "Aurelia's Skin Color Push-Up Bra": "✨AURELIA✨ Skin Color Push Up Bra\nLift, shape, and comfort in one.\nNo sense of restraint, light air, gather supporting breast. With adjustable multi-way straps, a sleek backless option, and a natural rounded lift, it's perfect. This bra is designed to give you that flawless push-up effect without compromising on comfort.",
    "Aurelia's Burgundy Red Push-Up Bra": "✨AURELIA✨ Burgundy Red Push Up Bra\nLift, shape, and comfort in one.\nNo sense of restraint, light air, gather supporting breast. With adjustable multi-way straps, a sleek backless option, and a natural rounded lift, it's perfect. This bra is designed to give you that flawless push-up effect without compromising on comfort.",
    "Aurelia's Purple Push-Up Bra": "✨AURELIA✨ Purple Push Up Bra\nLift, shape, and comfort in one.\nNo sense of restraint, light air, gather supporting breast. With adjustable multi-way straps, a sleek backless option, and a natural rounded lift, it's perfect. This bra is designed to give you that flawless push-up effect without compromising on comfort."
  };

  const phonePricing = {
    "iPhone 12": {
      "128": {
        "80-84": 250.00,
        "85-89": 260.00,
        "90+": 285.00
      }
    },
    "iPhone 12 Pro": {
      "128": {
        "80-84": 360.00,
        "85-89": 374.50,
        "90+": 404.50
      }
    },
    "iPhone 12 Pro Max": {
      "128": {
        "80-84": 405.00,
        "85-89": 419.00,
        "90+": 447.50
      }
    },
    "iPhone 13": {
      "128": {
        "80-84": 345.00,
        "85-89": 359.50,
        "90+": 387.00
      }
    },
    "iPhone 14": {
      "128": {
        "80-84": 414.00,
        "85-89": 430.00,
        "90+": 464.0
      }
    },
    "iPhone 14 Pro": {
      "256": {
        "80-84": 654.00,
        "85-89": 671.00,
        "90+": 701.00
      }
    },
    "iPhone 14 Pro Max": {
      "128": {
        "80-84": 701.00,
        "85-89": 714.00,
        "90+": 745.50
      },
      "256": {
        "80-84": 731.00,
        "85-89": 748.50,
        "90+": 774.00
      }
    },
    "iPhone 15": {
      "128": {
        "80-84": 593.40,
        "85-89": 612.30,
        "90+": 636.30
      }
    },
    "iPhone 15 Pro": {
      "128": {
        "80-84": 746.00,
        "85-89": 756.80,
        "90+": 782.50
      },
      "256": {
        "80-84": 773.90,
        "85-89": 789.45,
        "90+": 816.90
      }
    },
    "iPhone 15 Pro Max": {
      "256": {
        "80-84": 860.00,
        "85-89": 877.20,
        "90+": 903.00
      },
      "512": {
        "80-84": 963.10,
        "85-89": 980.30,
        "90+": 988.90
      }
    },
    "iPhone 16 Pro": {
      "256": {
        "80-84": 937.35,
        "85-89": 946.00,
        "90+": 1006.10
      }
    },
    "iPhone 16 Pro Max": {
      "256": {
        "80-84": 946.00,
        "85-89": 963.10,
        "90+": 997.50
      },
      "512": {
        "80-84": 1264.00,
        "85-89": 1307.00,
        "90+": 1310.00
      }
    }
  };

  const platformContacts = {
    whatsapp: {
      url: "https://wa.me/+8616671705298?text=",
      name: "WhatsApp"
    }
  };

  let cart = JSON.parse(localStorage.getItem('cart')) || [];
  let exchangeRates = JSON.parse(localStorage.getItem('exchangeRates')) || {
    USD: 1,
    GHS: 12.5,
    NGN: 1500,   
    LRD: 190     
  };
  let selectedCurrency = localStorage.getItem('preferredCurrency') || 'USD';
  
  function formatCurrency(amount, currency) {
    const formatters = {
      USD: new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }),
      GHS: new Intl.NumberFormat('en-GH', { style: 'currency', currency: 'GHS' }),
      NGN: new Intl.NumberFormat('en-NG', { style: 'currency', currency: 'NGN' }),
      LRD: new Intl.NumberFormat('en-LR', { style: 'currency', currency: 'LRD' })
    };
    
    return formatters[currency].format(amount);
  }
  
  function updateCartCount(){
    const totalItems = cart.reduce((total, item) => total + (item.quantity || 1), 0);
    document.querySelector('.cart-count').textContent = totalItems;
  }
  
  function renderCart(){
    const cartItems = document.getElementById('cartItems');
    const cartTotal = document.getElementById('cartTotal');
    const primaryTotal = cartTotal.querySelector('.primary-total');
    const secondaryTotal = cartTotal.querySelector('.secondary-total');
    
    cartItems.innerHTML = '';
    
    if(cart.length === 0){
      cartItems.innerHTML = '<p>Your cart is empty.</p>';
      primaryTotal.textContent = 'Total: $0.00';
      secondaryTotal.textContent = '';
      return;
    }
    
    let totalUSD = 0;
    cart.forEach((item, index) => {
      const quantity = item.quantity || 1;
      const itemTotalUSD = item.price * quantity;
      totalUSD += itemTotalUSD;
      
      const convertedPrice = item.price * exchangeRates[selectedCurrency];
      const convertedTotal = itemTotalUSD * exchangeRates[selectedCurrency];
      
      const description = productDescriptions[item.name] || "Premium quality product.";
      
      const div = document.createElement('div');
      div.className = 'cart-item';
      
      const isPhone = item.name.includes("iPhone") || item.name.includes("Smartphone");
      const isBra = item.name.includes("Aurelia's");
      
      div.innerHTML = `
        <img src="${item.image}">
        <div class="item-details">
          <h4>${item.name}</h4>
          <div class="item-description">${description}</div>
          
          ${isPhone ? `
          <div class="configuration-options">
            <select class="config-select" id="gig-${index}" onchange="updatePhoneConfiguration(${index})">
              ${getStorageOptions(item.name, item.config ? item.config.gig : '')}
            </select>
            
            <select class="config-select" id="battery-${index}" onchange="updatePhoneConfiguration(${index})">
              <option value="80-84" ${item.config && item.config.battery === '80-84' ? 'selected' : ''}>80-84% Battery</option>
              <option value="85-89" ${item.config && item.config.battery === '85-89' ? 'selected' : ''}>85-89% Battery</option>
              <option value="90+" ${item.config && item.config.battery === '90+' ? 'selected' : ''}>90%+ Battery</option>
            </select>
          </div>
          ` : isBra ? `
          <div class="configuration-options">
            <select class="config-select" id="size-${index}" onchange="updateBraConfiguration(${index})">
              <option value="S(32/70AB)" ${item.config && item.config.size === 'S(32/70AB)' ? 'selected' : ''}>S(32/70AB)</option>
              <option value="M(34/75AB)" ${item.config && item.config.size === 'M(34/75AB)' ? 'selected' : ''}>M(34/75AB)</option>
              <option value="L(36/80AB)" ${item.config && item.config.size === 'L(36/80AB)' ? 'selected' : ''}>L(36/80AB)</option>
              <option value="XL(38/85AB)" ${item.config && item.config.size === 'XL(38/85AB)' ? 'selected' : ''}>XL(38/85AB)</option>
            </select>
          </div>
          ` : ''}
          
          <p>${formatCurrency(convertedPrice, selectedCurrency)} each</p>
          <div class="secondary-price">${formatCurrency(item.price, 'USD')} each</div>
          
          <div class="quantity-controls">
            <button class="quantity-btn" onclick="updateQuantity(${index}, ${quantity - 1})">-</button>
            <input type="number" class="quantity-input" value="${quantity}" min="1" 
                   onchange="updateQuantityInput(${index}, this.value)">
            <button class="quantity-btn" onclick="updateQuantity(${index}, ${quantity + 1})">+</button>
          </div>
          
          <p>Item Total: ${formatCurrency(convertedTotal, selectedCurrency)}</p>
          <div class="secondary-price">${formatCurrency(itemTotalUSD, 'USD')}</div>
        </div>
        <button class="remove-button" onclick="removeFromCart(${index})">
          <i class="fas fa-trash"></i> Remove
        </button>
      `;
      cartItems.appendChild(div);
    });
    
    const totalConverted = totalUSD * exchangeRates[selectedCurrency];
    
    if (selectedCurrency !== 'USD') {
      primaryTotal.textContent = `Total: ${formatCurrency(totalConverted, selectedCurrency)}`;
      secondaryTotal.textContent = `${formatCurrency(totalUSD, 'USD')}`;
    } else {
      primaryTotal.textContent = `Total: ${formatCurrency(totalUSD, 'USD')}`;
      secondaryTotal.textContent = '';
    }
  }
  
  function getStorageOptions(phoneModel, selectedGig) {
    let options = '';
    const modelPricing = phonePricing[phoneModel];
    
    if (modelPricing) {
      for (const gig in modelPricing) {
        options += `<option value="${gig}" ${selectedGig === gig ? 'selected' : ''}>${gig}${gig === '1TB' ? '' : 'GB'}</option>`;
      }
    } else {
      options = `
        <option value="128" ${selectedGig === '128' ? 'selected' : ''}>128GB</option>
        <option value="256" ${selectedGig === '256' ? 'selected' : ''}>256GB</option>
        <option value="512" ${selectedGig === '512' ? 'selected' : ''}>512GB</option>
      `;
    }
    
    return options;
  }
  
  function updatePhoneConfiguration(index) {
    const gigSelect = document.getElementById(`gig-${index}`);
    const batterySelect = document.getElementById(`battery-${index}`);
    
    if (!gigSelect || !batterySelect) return;
    
    const gig = gigSelect.value;
    const battery = batterySelect.value;
    
    cart[index].config = {
      gig: gig,
      battery: battery
    };
    
    const phoneModel = cart[index].name;
    
    if (phonePricing[phoneModel] && phonePricing[phoneModel][gig] && phonePricing[phoneModel][gig][battery]) {
      cart[index].price = phonePricing[phoneModel][gig][battery];
    }
    
    localStorage.setItem('cart', JSON.stringify(cart));
    renderCart();
  }
  
  function updateBraConfiguration(index) {
    const sizeSelect = document.getElementById(`size-${index}`);
    
    if (!sizeSelect) return;
    
    const size = sizeSelect.value;
    
    cart[index].config = {
      size: size
    };
    
    localStorage.setItem('cart', JSON.stringify(cart));
    renderCart();
  }
  
  function updateQuantity(index, newQuantity) {
    if (newQuantity < 1) newQuantity = 1;
    cart[index].quantity = newQuantity;
    localStorage.setItem('cart', JSON.stringify(cart));
    updateCartCount();
    renderCart();
  }
  
  function updateQuantityInput(index, value) {
    const newQuantity = parseInt(value) || 1;
    updateQuantity(index, newQuantity);
  }
  
  function removeFromCart(index){
    cart.splice(index, 1);
    localStorage.setItem('cart', JSON.stringify(cart));
    updateCartCount();
    renderCart();
  }
  
  function checkout(platform){
    if(cart.length === 0){
      alert('Your cart is empty!');
      return;
    }
    
    let message = "Hello! I would like to order the following items:%0A%0A"; 
    let totalUSD = 0;
    
    cart.forEach((item, i) => {
      const quantity = item.quantity || 1;
      const itemTotal = item.price * quantity;
      totalUSD += itemTotal;
      
      const description = productDescriptions[item.name] || "Premium quality product.";
      
      let configDetails = "";
      if (item.config) {
        if (item.name.includes("iPhone") || item.name.includes("Smartphone")) {
          configDetails = `%0A   Configuration: ${item.config.gig}${item.config.gig === '1TB' ? '' : 'GB'}, Battery: ${item.config.battery}`;
        } else if (item.name.includes("Aurelia's")) {
          configDetails = `%0A   Size: ${item.config.size}`;
        }
      }
      
      message += `${i+1}. ${item.name} (Qty: ${quantity}) - $${itemTotal.toFixed(2)}${configDetails}%0A   ${description}%0A%0A`;
    });
    
    const totalConverted = totalUSD * exchangeRates[selectedCurrency];
    
    message += `Total: ${formatCurrency(totalConverted, selectedCurrency)} (${formatCurrency(totalUSD, 'USD')})`;
    message += "%0A%0AI would like to proceed with this order.";
    
    window.open(`${platformContacts.whatsapp.url}${message}`, '_blank');
    
    cart = [];
    localStorage.setItem('cart', JSON.stringify(cart));
    updateCartCount();
    renderCart();
  }
  
  updateCartCount();
  renderCart();
  
  const hamburger = document.getElementById('hamburger');
  const navMenu = document.getElementById('nav-menu');
  hamburger.addEventListener('click', () => {
    navMenu.classList.toggle('active');
  });
  
  window.addEventListener('scroll', () => {
    document.querySelector('header').classList.toggle('scrolled', window.scrollY > 50);
  });
</script>
</body>
</html>